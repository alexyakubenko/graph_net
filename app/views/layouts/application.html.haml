%html
  %head
    %title GraphNet
    = stylesheet_link_tag 'application', media: :all
    = javascript_include_tag 'application'
    = csrf_meta_tags
  %body
    .navbar.navbar-static-top.navbar-default
      .container
        .navbar-header
          = link_to 'GraphNet', :root, class: 'navbar-brand'
        - if current_user
          %ul.nav.navbar-nav.navbar-right
            %li.dropdown
              = link_to "#", class: 'dropdown-toggle', data: { toggle: :dropdown } do
                = current_user.email
                %b.caret
              %ul.dropdown-menu
                %li= link_to 'Log Out', :logout, method: :post
        - else
          = form_tag :user_sessions, class: ['navbar-form', 'navbar-left'] do
            .form-group
              = email_field_tag :email, '', class: 'form-control', placeholder: 'Email'
            .form-group
              = password_field_tag :password, '', class: 'form-control', placeholder: 'Password'
            %button.btn.btn-default{ type: :submit } Log In

    .container
      - flash.each do |name, msg|
        .alert.alert-dismissible{ class: "alert-#{ name }", role: :alert }
          %a.close{ 'data-dismiss' => 'alert' } Ã—
          = msg

      = yield
