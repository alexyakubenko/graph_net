%html
  %head
    %title GraphNet
    = stylesheet_link_tag 'application', media: :all
    = javascript_include_tag 'application'
    = csrf_meta_tags
  %body
    .navbar.navbar-static-top.navbar-default
      .container
        .navbar-header
          = link_to 'GraphNet', :root, class: 'navbar-brand'
        %ul.nav.navbar-nav.navbar-right
          - if current_user
            %li.dropdown
              = link_to "#", class: 'dropdown-toggle', data: { toggle: :dropdown } do
                = current_user.email
                %b.caret
              %ul.dropdown-menu
                %li= link_to 'Log Out', :logout
          - else
            %li= link_to 'Log In', :login
    .container
      - flash.each do |name, msg|
        .alert.alert-dismissible{ class: "alert-#{ name == :notice ? :success : :danger}", role: :alert }
          %a.close { 'data-dismiss' => 'alert' } Ã—
          = msg

      = yield
